"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{4711:(e,t,r)=>{r.r(t),r.d(t,{default:()=>z});var n=r(5594),i=r(376),o=r(5155),a=r(2115),s=r(7558),l=r(3758),p=r(4688),d=r(2515),c=r(3498),x=r(3264),g=r(2354),h=r(9509);let u=h.env.NEXT_PUBLIC_SUPABASE_URL||"https://your-project.supabase.co",b=h.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"your-anon-key",f=(0,g.UU)(u,b),m="models",y=[{id:"trecc",name:"TRECC Shelter",path:"trecc.glb",description:"Tactical Rapidly Erectable Command Center",dimensions:{length:20,width:8,height:8},weight:5e3,capacity:12},{id:"command-posting",name:"Command Posting",path:"interiors/CommandPosting.glb",description:"Interior command center configuration",dimensions:{length:20,width:8,height:8},weight:5e3,capacity:8}];async function w(e){try{let{data:t}=await f.storage.from(m).getPublicUrl(e);return t.publicUrl}catch(t){return"/models/".concat(e)}}async function v(){try{let{data:e,error:t}=await f.storage.from(m).list("",{limit:100,offset:0});if(t)return y;let r=e.filter(e=>e.name.endsWith(".glb")).map(e=>({id:e.name.replace(".glb",""),name:e.name.replace(".glb","").replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),path:e.name,description:"3D model: ".concat(e.name),dimensions:{length:20,width:8,height:8},weight:5e3,capacity:12}));return r.length>0?r:y}catch(e){return y}}async function S(e){try{let t=await w(e),r=document.createElement("link");r.rel="preload",r.href=t,r.as="fetch",r.crossOrigin="anonymous",document.head.appendChild(r)}catch(e){}}function j(e){var t,r,n;let{modelPath:i,color:s,isDeployed:c,environment:g,weather:h,lighting:u,background3D:b,onModelReady:f,onColorApplied:m}=e,y=(0,a.useRef)(null),w=(0,a.useRef)(new x.Pq0(0,1.5,0));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.u,{makeDefault:!0,position:[6,4,6],fov:60,near:.1,far:200}),(0,o.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.1,0],receiveShadow:!0,children:[(0,o.jsx)("planeGeometry",{args:[50,50]}),(0,o.jsx)("meshStandardMaterial",{color:"#2a2a2a",roughness:.8,metalness:.1,transparent:!0,opacity:.8})]}),(0,o.jsx)(p.N,{ref:y,enablePan:!1,enableZoom:!0,enableRotate:!0,enableDamping:!0,dampingFactor:.08,zoomSpeed:1,rotateSpeed:.9,minPolarAngle:Math.PI/18,maxPolarAngle:Math.PI/2,minDistance:3,maxDistance:15,target:w.current}),(0,o.jsx)("ambientLight",{intensity:(null==u?void 0:u.ambientIntensity)||.35}),(0,o.jsx)("directionalLight",{position:[(null==u||null==(t=u.sunPosition)?void 0:t.x)||6,(null==u||null==(r=u.sunPosition)?void 0:r.y)||10,(null==u||null==(n=u.sunPosition)?void 0:n.z)||6],intensity:(null==u?void 0:u.directionalIntensity)||1.2,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),(0,o.jsx)(d.OH,{preset:"sunset"}),(0,o.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.5,0],receiveShadow:!0,children:[(0,o.jsx)("planeGeometry",{args:[80,80]}),(0,o.jsx)("meshStandardMaterial",{color:"#2a2f3a",roughness:.9,metalness:0})]}),(0,o.jsx)(C,{modelPath:i,color:s,onReady:e=>{let{center:t,radius:r}=e;null==f||f()},onColorApplied:m})]})}function C(e){let{modelPath:t,color:r,onReady:n,onColorApplied:i}=e,[s,l]=(0,a.useState)(t||"/models/trecc.glb"),[p,d]=(0,a.useState)(0),[g,h]=(0,a.useState)("Loading model...");(0,a.useEffect)(()=>{(async()=>{try{let e=(t||"/models/trecc.glb").replace("/models/",""),r=await w(e);l(r)}catch(e){l(t||"/models/trecc.glb")}})()},[t]);let u=(0,c.p)(s),b=(0,a.useMemo)(()=>{var e,t;return u?(I(s,u),h("Processing geometry..."),d(50),setTimeout(()=>{h("Applying materials..."),d(75)},100),setTimeout(()=>{h("Finalizing..."),d(100)},200),null!=(t=null==u||null==(e=u.scene)?void 0:e.clone(!0))?t:null):null},[u]),f=new x.O9p(-Math.PI/2,Math.PI,0);return((0,a.useEffect)(()=>{if(!b)return;b.rotation.copy(f);let e=new x.NRn().setFromObject(b),t=e.getCenter(new x.Pq0);b.position.sub(t);let r=(e=new x.NRn().setFromObject(b)).getSize(new x.Pq0),i=.5*Math.max(r.x,r.y,r.z);b.position.y+=-e.min.y,null==n||n({center:new x.Pq0(0,.5*r.y,0),radius:i})},[b,n]),(0,a.useEffect)(()=>{b&&r&&(function(e,t){let r=new x.Q1f(t),n=0,i=0;e.traverse(e=>{e.isMesh&&(n++,i++,(Array.isArray(e.material)?e.material:[e.material]).forEach((t,n)=>{if(!t)return;let i=new x._4j({color:r,metalness:.25,roughness:.6,envMapIntensity:.3,transparent:t.transparent,opacity:t.opacity,map:t.map,normalMap:t.normalMap,roughnessMap:t.roughnessMap,metalnessMap:t.metalnessMap,envMap:t.envMap});Array.isArray(e.material)?e.material[n]=i:e.material=i}))})}(b,r),null==i||i())},[b,r]),b)?(0,o.jsx)("primitive",{object:b,castShadow:!0,receiveShadow:!0}):null}let k="weatherhaven-models-cache",I=(e,t)=>{try{let r=JSON.parse(localStorage.getItem(k)||"{}");r[e]={data:t,timestamp:Date.now(),version:"1.0"},localStorage.setItem(k,JSON.stringify(r))}catch(e){}};c.p.preload("/models/trecc.glb"),c.p.preload("/models/interiors/CommandPosting.glb");class T extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback||(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"white",textAlign:"center",padding:"40px"},children:(0,o.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"16px",padding:"32px",maxWidth:"400px"},children:[(0,o.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"⚠️"}),(0,o.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"12px",color:"#fca5a5"},children:"Model Loading Error"}),(0,o.jsx)("p",{style:{fontSize:"14px",color:"#d1d5db",marginBottom:"20px",lineHeight:"1.5"},children:"There was an error loading the 3D model. This might be due to a network issue or corrupted model file."}),(0,o.jsx)("button",{onClick:()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()},style:{background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(59, 130, 246, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"Reload Page"})]})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1}}}let z=e=>{let{shelterId:t="trecc",defaultModel:r="/models/trecc.glb",shelterName:l="TRECC Shelter"}=e,[p,d]=(0,a.useState)({color:"#3C3B2E",isDeployed:!1,isInteriorView:!1,isInsideView:!1}),[c,g]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!0),[b,f]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{let e=await v();f(e),e.forEach(e=>{S(e.path)})}catch(e){}})()},[]);let[m,y]=(0,a.useState)(!1),[w,C]=(0,a.useState)(""),k=()=>{if("trecc"===t)if(p.isInteriorView)return"/videos/trecc-interior-walkthrough.mp4";else if(p.isDeployed)return"/videos/trecc-open-walkthrough.mp4";else return"/videos/trecc-closed-walkthrough.mp4";return"command-posting"===t?"/videos/command-posting-walkthrough.mp4":""};return a.useEffect(()=>{if(m){let e=k();e&&e!==w&&C(e)}},[p.isDeployed,p.isInteriorView,t]),(0,o.jsxs)("div",{className:"configurator-container",style:{height:"100vh",width:"100vw",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",display:"flex",flexDirection:"column",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",position:"fixed",top:0,left:0,zIndex:1e3,overflow:"hidden"},children:[(0,o.jsxs)("div",{className:"configurator-main",style:{flex:1,display:"flex",height:"100%",position:"relative"},children:[(0,o.jsxs)("div",{className:"left-controls",style:{width:"360px",background:"linear-gradient(145deg, rgba(59, 130, 246, 0.95) 0%, rgba(99, 102, 241, 0.9) 30%, rgba(251, 146, 60, 0.95) 70%, rgba(249, 115, 22, 0.98) 100%)",backdropFilter:"blur(30px) saturate(200%) brightness(1.1)",borderRight:"2px solid rgba(59, 130, 246, 0.2)",padding:"48px 36px",display:"flex",flexDirection:"column",gap:"36px",boxShadow:"16px 0 60px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.1), inset 2px 0 0 rgba(255, 255, 255, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.1)",overflowY:"auto",zIndex:10,position:"absolute",left:"0px",top:0,height:"100%",borderTopRightRadius:"32px",borderBottomRightRadius:"32px"},children:[(0,o.jsxs)("div",{style:{textAlign:"center",marginBottom:"24px",position:"relative",padding:"28px 20px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(99, 102, 241, 0.1) 30%, rgba(251, 146, 60, 0.15) 70%, rgba(249, 115, 22, 0.2) 100%)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},children:[(0,o.jsx)("div",{style:{position:"absolute",top:"12px",right:"16px",width:"8px",height:"8px",background:"linear-gradient(45deg, #4facfe, #00f2fe)",borderRadius:"50%",boxShadow:"0 0 12px rgba(79, 172, 254, 0.6)"}}),(0,o.jsx)("h2",{style:{fontSize:"38px",fontWeight:"900",color:"#ffffff",margin:"0",textTransform:"uppercase",letterSpacing:"5px",textShadow:"0 4px 12px rgba(0, 0, 0, 0.6), 0 2px 6px rgba(0, 0, 0, 0.4)",background:"linear-gradient(135deg, #ffffff 0%, #f0f9ff 50%, #e0f2fe 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5))",position:"relative",zIndex:2},children:"TRECC"})]}),(0,o.jsx)("h3",{style:{fontSize:"18px",fontWeight:"900",color:"white",margin:"0 0 20px 0",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px"},children:"\uD83D\uDC41️ View Options"}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"36px"},children:[(0,o.jsx)("button",{onClick:()=>{d(e=>(0,i._)((0,n._)({},e),{isDeployed:!e.isDeployed}))},style:{background:(p.isDeployed,"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"),color:"white",border:p.isDeployed?"2px solid rgba(102, 126, 234, 0.3)":"2px solid rgba(59, 130, 246, 0.1)",borderRadius:"16px",padding:"16px 20px",fontSize:"14px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:p.isDeployed?"0 8px 25px rgba(102, 126, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)":"0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textTransform:"uppercase",letterSpacing:"0.5px"},onMouseEnter:e=>{p.isDeployed||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.3)")},onMouseLeave:e=>{p.isDeployed||(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)")},children:p.isDeployed?"Close View":"Open View"}),(0,o.jsx)("button",{onClick:()=>{d(e=>(0,i._)((0,n._)({},e),{isInteriorView:!e.isInteriorView}))},style:{background:(p.isInteriorView,"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"),color:"white",border:p.isInteriorView?"2px solid rgba(102, 126, 234, 0.3)":"2px solid rgba(59, 130, 246, 0.1)",borderRadius:"16px",padding:"16px 20px",fontSize:"14px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:p.isInteriorView?"0 8px 25px rgba(102, 126, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)":"0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textTransform:"uppercase",letterSpacing:"0.5px"},onMouseEnter:e=>{p.isInteriorView||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.3)")},onMouseLeave:e=>{p.isInteriorView||(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)")},children:"Interior View"}),(0,o.jsxs)("button",{onClick:()=>{let e=k();e?(C(e),y(!0)):alert("Video walkthrough is not available for this configuration.")},disabled:!k(),style:{background:k()?"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)":"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",border:"2px solid rgba(59, 130, 246, 0.1)",borderRadius:"16px",padding:"16px 20px",fontSize:"14px",fontWeight:"700",cursor:k()?"pointer":"not-allowed",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",opacity:k()?1:.6},onMouseEnter:e=>{k()&&(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.3)")},onMouseLeave:e=>{k()&&(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)")},children:["\uD83D\uDCF9 Walkthrough Video ",!k()&&"(Unavailable)"]})]}),(0,o.jsx)("h3",{style:{fontSize:"18px",fontWeight:"900",color:"white",margin:"0 0 20px 0",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px"},children:"\uD83C\uDFA8 Color Options"}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"36px"},children:[{name:"OD Green (Olive Drab)",value:"#3C3B2E"},{name:"CARC Tan (Desert)",value:"#B8A082"},{name:"Arctic White",value:"#F8F8F8"}].map(e=>(0,o.jsx)("button",{onClick:()=>{var t;t=e.value,g(!0),d(e=>(0,i._)((0,n._)({},e),{color:t})),setTimeout(()=>{g(!1)},500)},style:{background:p.color===e.value?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:p.color===e.value?"3px solid rgba(16, 185, 129, 0.8)":"2px solid rgba(59, 130, 246, 0.1)",borderRadius:"16px",padding:"16px 20px",fontSize:"14px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:p.color===e.value?"0 8px 25px rgba(16, 185, 129, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3), 0 0 20px rgba(16, 185, 129, 0.3)":"0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textTransform:"uppercase",letterSpacing:"0.5px",position:"relative",overflow:"hidden",pointerEvents:"auto",zIndex:10},onMouseEnter:t=>{p.color!==e.value&&(t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.3)")},onMouseLeave:t=>{p.color!==e.value&&(t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.2)")},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,o.jsx)("span",{children:e.name}),(0,o.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:e.value,border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"}})]})},e.value))}),(0,o.jsx)("h3",{style:{fontSize:"18px",fontWeight:"900",color:"white",margin:"0 0 20px 0",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px"},children:"\uD83D\uDCCB Specifications"}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"36px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"600"},children:"Dimensions:"}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"700"},children:"20' \xd7 8' \xd7 8'"})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"600"},children:"Weight:"}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"700"},children:"2,400 lbs"})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"600"},children:"Capacity:"}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"700"},children:"8-12 personnel"})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"600"},children:"Deployment:"}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"700"},children:"15 minutes"})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"600"},children:"Power:"}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"700"},children:"Solar + Generator"})]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"600"},children:"Temperature:"}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"white",fontWeight:"700"},children:"-40\xb0F to +120\xb0F"})]})]}),(0,o.jsx)("button",{onClick:()=>{d({color:"#3C3B2E",isDeployed:!1,isInteriorView:!1,isInsideView:!1})},style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"16px",padding:"18px 24px",fontSize:"14px",fontWeight:"800",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 8px 25px rgba(239, 68, 68, 0.4)",textTransform:"uppercase",letterSpacing:"0.5px"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-3px)",e.currentTarget.style.boxShadow="0 12px 35px rgba(239, 68, 68, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 8px 25px rgba(239, 68, 68, 0.4)"},children:"Reset Configuration"})]}),(0,o.jsxs)("div",{className:"viewer-section",style:{flex:1,position:"relative",height:"100%",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)"},children:[(h||c)&&(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,backdropFilter:"blur(4px)"},children:(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"24px 32px",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.2)",textAlign:"center",color:"white"},children:[(0,o.jsx)("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255, 255, 255, 0.3)",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,o.jsx)("div",{style:{fontSize:"16px",fontWeight:"600"},children:h?"Loading Model...":"Applying Color..."})]})}),(0,o.jsx)(T,{children:(0,o.jsx)(s.Hl,{camera:{position:[5,3,5],fov:50},shadows:!0,gl:{antialias:!0,alpha:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1},onCreated:e=>{let{gl:t}=e;t.shadowMap.enabled=!0,t.shadowMap.type=x.Wk7},children:(0,o.jsx)(j,{modelPath:"command-posting"===t?"/models/interiors/CommandPosting.glb":"/models/trecc.glb",color:p.color,isDeployed:p.isDeployed,environment:"studio",weather:"none",lighting:{ambientIntensity:.3,directionalIntensity:1.2,sunPosition:{x:5,y:8,z:5}},background3D:{},onModelReady:()=>{u(!1)},onColorApplied:()=>{g(!1)}})})})]})]}),m&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(10px)"},children:(0,o.jsxs)("div",{style:{position:"relative",width:"90%",maxWidth:"1200px",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",borderRadius:"20px",padding:"40px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,o.jsx)("button",{onClick:()=>y(!1),style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",color:"white",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:"\xd7"}),(0,o.jsx)("div",{style:{textAlign:"center",marginBottom:"30px",color:"white",fontSize:"24px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px"},children:p.isInteriorView?"Interior Walkthrough":p.isDeployed?"Open Configuration Walkthrough":"Closed Configuration Walkthrough"}),(0,o.jsx)("div",{style:{position:"relative",width:"100%",height:"0",paddingBottom:"56.25%",background:"#000",borderRadius:"10px",overflow:"hidden"},children:(0,o.jsxs)("video",{controls:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},poster:"/videos/trecc-poster.jpg",onError:e=>{alert("Sorry, this video is currently unavailable."),y(!1)},children:[(0,o.jsx)("source",{src:w,type:"video/mp4"}),"Your browser does not support the video tag."]})})]})})]})}}}]);